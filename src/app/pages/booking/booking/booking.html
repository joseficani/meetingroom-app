<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white d-flex justify-content-between">
      <h5 class="mb-0">{{ booking ? 'Edit Booking' : 'New Booking' }}</h5>
    </div>
    <div class="card-body">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Requester Name</mat-label>
            <input
              matInput
              id="requester"
              formControlName="requester"
              placeholder="Enter your name"
            />
            <mat-error *ngIf="form.controls['requester'].invalid && form.controls['requester'].touched">
              Requester name is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="mb-3">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Purpose</mat-label>
            <textarea
              matInput
              id="purpose"
              rows="2"
              formControlName="purpose"
              placeholder="Enter purpose of meeting"
            ></textarea>
            <mat-error *ngIf="form.controls['purpose'].invalid && form.controls['purpose'].touched">
              Purpose is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="mb-3">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Select Slot</mat-label>
            <mat-select
              formControlName="slot"
              panelClass="booking-slot-panel"
              placeholder="Pick a time slot"
            >
              <mat-option value="" disabled>Select a time slot</mat-option>
              <mat-option *ngFor="let slot of availableSlots" [value]="slot">
                {{ slot }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls['slot'].invalid && form.controls['slot'].touched">
              Slot is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="d-flex justify-content-between mt-3">
          <button
            type="submit"
            class="btn btn-success"
            [disabled]="form.invalid"
          >
            {{ booking ? 'Save Changes' : 'Book Room' }}
          </button>

          <button
            type="button"
            class="btn btn-secondary"
            (click)="onCancel()"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
